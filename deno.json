{
  "compilerOptions": {
    "lib": [
      "deno.window",
      "deno.unstable"
    ]
  },
  "lint": {
    "plugins": [
      "./pipeline/config/functionLengthLintPlugin.ts",
      "./pipeline/config/commentStyleLintPlugin.ts"
    ],
    "exclude": [
      "node_modules",
      "**/*.test.ts",
      "**/*.spec.ts",
      "**/*_test.ts"
    ],
    "rules": {
      "exclude": [
        "ban-unused-ignore"
      ]
    }
  },
  "fmt": {
    "useTabs": false,
    "indentWidth": 2,
    "semiColons": true,
    "singleQuote": true,
    "lineWidth": 60
  },
  "tasks": {
    "dev": "./scripts/dev.sh",
    "build": "deno run -A npm:vite build",
    "start": "deno run -A --env main.ts",
    "test": "deno test -A",
    "test:with-db": "./scripts/dev.sh test",
    "test:e2e-record": "deno run -A pipeline/test/runE2eRecord.ts",
    "db:schema": "deno run -A api/postgresql/applySchema.ts",
    "seed:ontology": "deno run -A api/config/runSeedOntology.ts",
    "seed:ontology:with-db": "./scripts/dev.sh deno task seed:ontology",
    "seed:curriculum": "deno run -A identity/curriculum/seed.ts",
    "seed:curriculum:with-db": "./scripts/dev.sh deno task seed:curriculum",
    "seed:material": "deno run -A ingest/runSeedMaterial.ts",
    "seed:material:with-db": "./scripts/dev.sh deno task seed:material",
    "import:lexis-high-basic": "deno run -A ingest/importHighBasic.ts --write-headwords",
    "import:lexis-high-basic:with-db": "./scripts/dev.sh deno run -A ingest/importHighBasic.ts --write-headwords",
    "import:books": "deno run -A ingest/importBooksToSources.ts",
    "import:books:with-db": "./scripts/dev.sh deno run -A ingest/importBooksToSources.ts",
    "ontology-acyclic-check:with-db": "./scripts/dev.sh deno task ontology-acyclic-check",
    "type-check-policy": "deno run --allow-read pipeline/config/checkTypePolicy.ts",
    "ts-filename-check": "deno run --allow-read pipeline/config/checkTsFilename.ts",
    "format-check": "deno fmt --check && deno task line-length-check",
    "line-length-check": "deno run --allow-read pipeline/config/checkLineLength.ts",
    "boundary-check": "deno run --allow-read pipeline/config/checkDomainBoundary.ts",
    "dependency-check": "deno run --allow-read pipeline/config/checkDomainDeps.ts",
    "pre-push": "./scripts/dev.sh deno task pre-push-inner",
    "pre-push-inner": "deno lint && deno task format-check && deno task ts-filename-check && deno task sql-filename-check && deno task ontology-schemes-check && deno test -A && deno task todo-check && deno task boundary-check && deno task dependency-check && deno task type-check-policy && deno audit",
    "todo-check": "deno run --allow-read pipeline/config/checkTodo.ts",
    "todo-discovery": "deno run --allow-read pipeline/config/todoDiscovery.ts",
    "ontology-acyclic-check": "deno run -A pipeline/config/checkOntologyAcyclic.ts",
    "ontology-schemes-check": "deno run --allow-read pipeline/config/checkOntologySchemes.ts",
    "rules:summary": "deno run -A pipeline/config/rulesSummary.ts",
    "sql-filename-check": "deno run --allow-read pipeline/config/checkSqlFilename.ts",
    "structure:add-dirs:pipeline": "deno task structure:add-c2-dirs && deno task structure:add-c3-dirs && deno task structure:add-c4-dirs",
    "structure:add-dirs:reporting": "deno task structure:add-c2-dirs:reporting && deno task structure:add-c3-dirs:reporting && deno task structure:add-c4-dirs:reporting",
    "structure:add-c2-dirs": "deno run -A pipeline/config/structureAddC2Dirs.ts",
    "structure:add-c2-dirs:api": "deno run -A pipeline/config/structureAddC2Dirs.ts api",
    "api:flatten-restore": "deno run -A pipeline/config/flattenRestoreApi.ts",
    "identity:flatten-restore": "deno run -A pipeline/config/flattenRestoreIdentity.ts",
    "structure:add-c2-dirs:reporting": "deno run -A pipeline/config/structureAddC2Dirs.ts reporting",
    "structure:add-c3-dirs": "deno run -A pipeline/config/structureAddC2Dirs.ts c3",
    "structure:add-c3-dirs:reporting": "deno run -A pipeline/config/structureAddC2Dirs.ts c3 reporting",
    "structure:add-c4-dirs": "deno run -A pipeline/config/structureAddC2Dirs.ts c4",
    "structure:add-c4-dirs:reporting": "deno run -A pipeline/config/structureAddC2Dirs.ts c4 reporting",
    "structure:add-c3-dirs:postgresql": "deno run -A pipeline/config/structureAddC2Dirs.ts c3 postgresql",
    "structure:add-c4-dirs:postgresql": "deno run -A pipeline/config/structureAddC2Dirs.ts c4 postgresql",
    "clean-branches": "sh pipeline/config/clean-local-branches.sh"
  },
  "imports": {
    "#api/": "./api/",
    "#identity/": "./identity/",
    "#analytics/": "./analytics/",
    "#reporting/": "./reporting/",
    "#ingest/": "./ingest/",
    "#pipeline/": "./pipeline/",
    "#docs/": "./docs/",
    "@std/assert": "jsr:@std/assert@^1.0.19",
    "@std/async": "jsr:@std/async@^1.2.0",
    "@std/collections": "jsr:@std/collections@^1.1.3",
    "@std/encoding": "jsr:@std/encoding@^1.0.9",
    "@std/front-matter": "jsr:@std/front-matter@^1.0.9",
    "@std/fs": "jsr:@std/fs@^1.0.23",
    "@std/json": "jsr:@std/json@^1.0.3",
    "@std/jsonc": "jsr:@std/jsonc@^1.0.2",
    "@std/path": "jsr:@std/path@^1.0.8",
    "@std/semver": "jsr:@std/semver@^1.0.8",
    "@std/toml": "jsr:@std/toml@^1.0.11",
    "@std/ulid": "jsr:@std/ulid@^1.0.0",
    "@std/uuid": "jsr:@std/uuid@^1.1.0",
    "@std/yaml": "jsr:@std/yaml@^1.0.1",
    "hono": "jsr:@hono/hono@^4.12.2",
    "@hono/zod-openapi": "npm:@hono/zod-openapi@^0.19.0",
    "zod": "jsr:@zod/zod@^4.3.6",
    "vite": "npm:vite@^6.4.1",
    "@db/postgres": "jsr:@db/postgres@^0.19.5",
    "djwt": "jsr:@zaubrik/djwt@^3.0.2"
  }
}